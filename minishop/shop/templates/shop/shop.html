{% extends "home/base.html" %}
{% load static %} 
{% block title %}Shop{%endblock%} 
{% block content %}

<div
  class="hero-wrap hero-bread"
  style="background-image: url('{% static "home/images/bg_6.jpg" %}')"
>
  <div class="container">
    <div
      class="row no-gutters slider-text align-items-center justify-content-center"
    >
      <div class="col-md-9 ftco-animate text-center">
        <p class="breadcrumbs">
          <span class="mr-2"><a href="index.html">Home</a></span>
          <span>Shop</span>
        </p>
        <h1 class="mb-0 bread">Shop</h1>
      </div>
    </div>
  </div>
</div>

<section class="ftco-section bg-light">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-lg-10 order-md-last">
        <div class="row">
          {% if products %}
            {% for product in products %}
              <div class="col-sm-12 col-md-12 col-lg-4 ftco-animate d-flex">
                <div class="product d-flex flex-column">
                  <a href="{% url 'product_detail' product.slug %}" class="img-prod"
                    ><img
                      class="img-fluid"
                      src="{% static 'home/images/product-1.png' %}"
                      alt="Colorlib Template"
                    />
                    <div class="overlay"></div>
                  </a>
                  <div class="text py-3 pb-4 px-3">
                    <div class="d-flex">
                      <div class="cat">
                        <span>{{product.category.name | upper}}</span>
                      </div>
                      <div class="rating">
                        <p class="text-right mb-0">
                          <a href="#"><span class="ion-ios-star-outline"></span></a>
                          <a href="#"><span class="ion-ios-star-outline"></span></a>
                          <a href="#"><span class="ion-ios-star-outline"></span></a>
                          <a href="#"><span class="ion-ios-star-outline"></span></a>
                          <a href="#"><span class="ion-ios-star-outline"></span></a>
                        </p>
                      </div>
                    </div>
                    <h3><a href="#">{{product.name | upper}}</a></h3>
                    <div class="pricing">
                      <p class="price"><span>${{product.price}}</span></p>
                    </div>
                    <p class="bottom-area d-flex px-3">
                      <a href="{% url 'add_product_to_cart' product.id %}" class="add-to-cart text-center py-2 mr-1"
                        ><span>Add to cart <i class="ion-ios-add ml-1"></i></span
                      ></a>
                      <a href="#" class="buy-now text-center py-2"
                        >Buy now<span><i class="ion-ios-cart ml-1"></i></span
                      ></a>
                    </p>
                  </div>
                </div>
              </div>
            {% endfor %}
          {% else %}
            <div class="alert alert-info text-center" role="alert">
              <strong>No Products Found</strong>  
            </div>
          {% endif %}
        </div>
        <div class="row mt-5">
          <div class="col text-center">
            <div class="block-27">
              <ul>
                <li><a href="#">&lt;</a></li>
                <li class="active"><span>1</span></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">&gt;</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4 col-lg-2">
        <div class="sidebar">
          <div class="sidebar-box-2">
            <h2 class="heading">Categories</h2>
            <div class="fancy-collapse-panel">
              <div
                class="panel-group"
                id="accordion"
                role="tablist"
                aria-multiselectable="true"
              >
              {% if category_data %}
                {% for cat in category_data %}
                  <div class="panel panel-default">
                    <div class="panel-heading" role="tab" id="heading{{cat.id}}">
                      <h4 class="panel-title">
                        <a
                          class="collapsed"
                          data-toggle="collapse"
                          data-parent="#accordion"
                          href="#collapse{{cat.id}}"
                          aria-expanded="false"
                          aria-controls="collapse{{cat.id}}"
                          >{{cat.name | default:"No Name"}}
                        </a>
                      </h4>
                    </div>
                    <div
                      id="collapse{{cat.id}}"
                      class="panel-collapse collapse"
                      role="tabpanel"
                      aria-labelledby="heading{{cat.id}}">
                      <div class="panel-body">
                        <ul>
                          {% for sub_cat in cat.sub_categories %}
                            <li><a href="#">{{sub_cat.name}}</a></li>
                          {% endfor %}
                        </ul>
                      </div>
                    </div>
                  </div>
                {% endfor %}
              {% else %}
                <div class="alert alert-info text-center" role="alert">
                  <strong>No Data Found</strong>
                </div>
              {% endif %}
                
              </div>
            </div>
          </div>
          <div class="sidebar-box-2">
            <h2 class="heading">Price Range</h2>
            <form method="post" class="colorlib-form-2">
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label for="guests">Price from:</label>
                    <div class="form-field">
                      <i class="icon icon-arrow-down3"></i>
                      <select name="people" id="people" class="form-control">
                        <option value="#">1</option>
                        <option value="#">200</option>
                        <option value="#">300</option>
                        <option value="#">400</option>
                        <option value="#">1000</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="form-group">
                    <label for="guests">Price to:</label>
                    <div class="form-field">
                      <i class="icon icon-arrow-down3"></i>
                      <select name="people" id="people" class="form-control">
                        <option value="#">2000</option>
                        <option value="#">4000</option>
                        <option value="#">6000</option>
                        <option value="#">8000</option>
                        <option value="#">10000</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
